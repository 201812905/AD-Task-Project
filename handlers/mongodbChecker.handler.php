<?php

require_once __DIR__ . '/../vendor/autoload.php';
$dotenv = Dotenv\Dotenv::createImmutable(__DIR__ . '/../');
$dotenv->load();

try {
    $mongo = new MongoDB\Driver\Manager($_ENV['MONGO_URI']);

    $command = new MongoDB\Driver\Command(["ping" => 1]);
    $mongo->executeCommand($_ENV['MONGO_DB'], $command);

    echo "✅ Connected to MongoDB successfully.  <br>";
} catch (MongoDB\Driver\Exception\Exception $e) {
    echo "❌ MongoDB connection failed: " . $e->getMessage() . "  <br>";
}